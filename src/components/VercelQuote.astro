---
import { Image } from 'astro:assets';

interface Props {
  text: string;
  author: string;
  avatar?: string;
  role?: string;
  className?: string;
}

const { text, author, avatar, role, className } = Astro.props;
---

<div class:list={["flex flex-col gap-6 my-12", className]}>
  <blockquote class="relative">
    <span class="absolute -top-4 -left-2 text-6xl text-muted-foreground/20 font-serif leading-none select-none">“</span>
    <p class="text-2xl md:text-3xl font-normal leading-relaxed text-foreground relative z-10 font-sans tracking-tight">
      {text}
    </p>
    <span class="absolute -bottom-8 -right-2 text-6xl text-muted-foreground/20 font-serif leading-none select-none">”</span>
  </blockquote>

  <div class="flex items-center justify-end gap-3 mt-2">
    {avatar && (
      <Image 
        src={avatar} 
        alt={author} 
        width={32} 
        height={32} 
        class="rounded-full ring-1 ring-border" 
      />
    )}
    <div class="flex flex-col items-end leading-tight">
      <cite class="not-italic font-semibold text-sm text-foreground">
        {author}
      </cite>
      {role && (
        <span class="text-xs text-muted-foreground">
          {role}
        </span>
      )}
    </div>
  </div>
</div>
